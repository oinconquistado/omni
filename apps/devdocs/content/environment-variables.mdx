# Environment Variables

Each application in the Omni monorepo has its own environment configuration file (`.env`) to ensure isolation and proper configuration management.

## Environment Files Location

- **Server**: `apps/omni-server/.env`
- **Client**: `apps/omni-client/.env`
- **Admin**: `apps/omni-admin/.env`
- **DevDocs**: `apps/devdocs/.env`

## Server Environment Variables

The server application uses the following environment variables:

```bash
# Database Configuration
OMNI_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/omni_company_dev"
SHARED_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/omni_shared_dev"

# Redis Configuration
REDIS_URL="redis://localhost:6379"

# Cache Configuration
CACHE_TTL=3600
CACHE_PREFIX="omni:"

# Server Configuration
PORT=3002
NODE_ENV="development"

# JWT Configuration (optional for development)
JWT_SECRET="development-jwt-secret-key-minimum-32-characters-long"
JWT_EXPIRES_IN="7d"
```

## Client Environment Variables

The client application uses the following environment variables:

```bash
# API Configuration
NEXT_PUBLIC_API_BASE_URL="http://localhost:3002"

# Application Configuration
PORT=3000
NODE_ENV="development"
```

## Admin Environment Variables

The admin application uses the following environment variables:

```bash
# API Configuration
NEXT_PUBLIC_API_BASE_URL="http://localhost:3002"

# Application Configuration
PORT=3001
NODE_ENV="development"
```

## DevDocs Environment Variables

The documentation application uses the following environment variables:

```bash
# Application Configuration
PORT=3003
NODE_ENV="development"
```

## Database Configuration

The server uses a dual-database setup:

### Company Database (`OMNI_DATABASE_URL`)
- Stores admin users, company information, and client management data
- Uses the main Prisma schema at `apps/omni-server/prisma/schema.prisma`

### Shared Database (`SHARED_DATABASE_URL`)
- Multi-tenant database for client data
- Uses the shared schema at `apps/omni-server/prisma/shared-schema.prisma`

## Local Development Setup

1. **Create environment files**: Copy the example variables above into each application's `.env` file
2. **Database setup**: Ensure PostgreSQL is running locally
3. **Redis setup**: Ensure Redis is running locally (optional for basic functionality)
4. **Update connection strings**: Modify database URLs to match your local setup

## Production Considerations

For production deployments:

1. Use secure, unique JWT secrets
2. Use SSL-enabled database connections
3. Use Redis with authentication
4. Set `NODE_ENV="production"`
5. Use proper domain names for `NEXT_PUBLIC_API_BASE_URL`

## Security Notes

- Environment files (`.env`) are ignored by Git for security
- Never commit sensitive credentials to the repository
- Use environment-specific values for different deployment stages
- Rotate secrets regularly in production environments
