---
title: Database Architecture
description: Multi-tenant database setup for Omni SaaS with detailed schema information
---

# Database Architecture

The Omni SaaS uses a **Shared Schema** approach with two separate PostgreSQL databases for optimal data isolation and performance.

## Architecture Overview

### Multi-Tenancy Strategy

All client data uses `tenantId` for complete isolation:
- Links to `Client.tenantId` in company database
- Ensures complete data separation between tenant companies
- Unique constraints per tenant to prevent data conflicts
- Optimized queries with tenant-specific indexes

### Environment Configuration

```bash
# Company Database (Omni internal operations)
OMNI_DATABASE_URL="postgresql://user:password@host:port/omni_company"

# Shared Database (Multi-tenant client data)
SHARED_DATABASE_URL="postgresql://user:password@host:port/omni_shared"
```

## Schema Sections

- [Company Schema](/database/company-schema) - Omni internal operations and client management
- [Shared Schema](/database/shared-schema) - Multi-tenant client data and inventory management

## Database Services

The application uses dedicated service layers for each database:

- **CompanyService**: Manages Omni internal users, sessions, and client companies
- **SharedService**: Handles multi-tenant operations for client users, products, and inventory
- **DatabaseManager**: Coordinates connections and transactions across both databases