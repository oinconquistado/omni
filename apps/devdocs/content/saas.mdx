---
title: SaaS Architecture
description: Understanding the Omni platform structure, technology stack, and architectural decisions
---

# SaaS Architecture

## What is Omni?

Omni is a **Software-as-a-Service (SaaS) inventory management platform** designed to help businesses efficiently manage their stock, products, categories, and sales operations. The platform serves multiple client companies through a secure multi-tenant architecture.

### Core Features

- **Inventory Control**: Real-time stock tracking with quantity management and reorder levels
- **Product Catalog**: Comprehensive product management with SKU, pricing, and categorization
- **Multi-tenant Support**: Complete data isolation between client companies
- **Role-based Access**: Granular permissions for different user types
- **Real-time Updates**: Live inventory changes and stock level monitoring
- **Category Management**: Organize products into hierarchical categories

## Technology Stack

### Frontend Applications

- **Framework**: Next.js 15 with App Router
- **React Version**: React 19 with latest features
- **Language**: TypeScript 5.9 for type safety
- **Styling**: Modern CSS-in-JS solutions
- **Build Tool**: Turbopack for fast development builds

### Backend Services

- **Server Framework**: Fastify with TypeScript
- **API Documentation**: Swagger/OpenAPI 3.0 integration
- **Runtime**: Node.js with tsx for development
- **Build Process**: TypeScript compilation to dist/

### Database & Persistence

- **Primary Database**: PostgreSQL with multi-database setup
- **ORM**: Prisma with dual client generation
- **Caching Layer**: Redis for performance optimization
- **Migration System**: Prisma migrations for schema versioning

### Development & Tooling

- **Monorepo**: Turborepo for efficient workspace management
- **Package Manager**: pnpm with workspace protocol
- **Code Quality**: Biome.js for linting and formatting
- **Type Checking**: TypeScript strict mode across all packages
- **Documentation**: Fumadocs for development documentation

## Architectural Decisions

### Multi-tenant Strategy

Omni uses a **Shared Schema** approach with separate databases:

- **Company Database**: Manages Omni's internal operations, users, and client companies
- **Shared Database**: Contains all client data with tenant isolation via `tenantId`

This approach provides:
- **Data Isolation**: Complete separation between client companies
- **Performance**: Optimized queries with tenant-specific data
- **Scalability**: Independent scaling of company vs client operations
- **Security**: Multiple layers of tenant data protection

### Service Layer Architecture

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │   API Layer     │    │  Service Layer  │
│   Applications  │────│   (Fastify)     │────│   (Business)    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                                       │
                       ┌─────────────────┐    ┌─────────────────┐
                       │  Database Layer │────│   Cache Layer   │
                       │   (Prisma)      │    │    (Redis)      │
                       └─────────────────┘    └─────────────────┘
```

### Performance Optimizations

- **Caching Strategy**: Redis for frequently accessed data
- **Database Indexing**: Optimized indexes on tenant and frequently queried fields
- **Connection Pooling**: Efficient database connection management
- **Build Optimization**: Turborepo caching and parallel execution

### Security Considerations

- **Tenant Isolation**: Strict `tenantId` filtering on all shared database queries
- **Role-based Access**: Granular permissions based on user roles
- **Environment Separation**: Secure configuration management
- **Input Validation**: Comprehensive request validation with TypeScript